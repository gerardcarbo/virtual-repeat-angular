{"version":3,"file":"virtual-repeat-angular-lib.js.map","sources":["ng://virtual-repeat-angular-lib/lib/virtual-repeat-container.ts","ng://virtual-repeat-angular-lib/lib/virtual-repeat.ts","ng://virtual-repeat-angular-lib/lib/virtual-repeat-asynch.ts","ng://virtual-repeat-angular-lib/lib/virtual-repeat-angular-lib.module.ts"],"sourcesContent":["import { CommonModule } from \"@angular/common\"\nimport { Component, OnInit, ViewChild, ElementRef, AfterViewInit, OnDestroy, Output, Input, SimpleChanges, OnChanges } from '@angular/core';\nimport { Subscription, BehaviorSubject, Observable, fromEvent } from 'rxjs';\nimport { skip, filter, tap, delay, take, concat, map, debounceTime } from 'rxjs/operators';\n\nexport const SCROLL_STOP_TIME_THRESHOLD = 200; // in milliseconds\n\nconst INVALID_POSITION = -1;\n\n@Component({\n    selector: 'gc-virtual-repeat-container',\n    template: `<div class=\"gc-virtual-repeat-container\" #listContainer [ngClass]=\"scrollbarStyle\">\r\n    <div class=\"gc-virtual-repeat-container\" [style.height]=\"holderHeightInPx\">\r\n        <ng-content></ng-content>\r\n    </div>\r\n</div>\r\n`,\n    styles: [`.gc-virtual-repeat-container{overflow-y:auto;overflow-x:hidden;position:relative;contain:layout;-webkit-overflow-scrolling:touch}.gc-virtual-repeat-container .gc-virtual-repeat-container-holder{width:100%;position:relative}.gc-virtual-repeat-container.normal{width:100%;height:100%}.gc-virtual-repeat-container.hide-scrollbar{position:absolute;top:0;left:0;bottom:0;right:0}`]\n})\nexport class VirtualRepeatContainer implements AfterViewInit, OnDestroy {\n    private _holderHeight: number = 0;\n    private _containerWidth: number = 0;\n    private _containerHeight: number = 0;\n\n    private _subscription: Subscription = new Subscription();\n\n    private _scrollStateChange: BehaviorSubject<SCROLL_STATE> = new BehaviorSubject(SCROLL_STATE.IDLE);\n    private _scrollPosition: BehaviorSubject<number> = new BehaviorSubject(0);\n    private _sizeChange: BehaviorSubject<number[]> = new BehaviorSubject([0, 0]);\n\n    private ignoreScrollEvent = false;\n\n    private _initialScrollTop = INVALID_POSITION;\n\n    currentScrollState: SCROLL_STATE = SCROLL_STATE.IDLE;\n\n    @ViewChild('listContainer') listContainer: ElementRef;\n\n    scrollbarStyle: string;\n    scrollbarWidth: number;\n\n    set holderHeight(height: number) {\n        if (typeof height !== 'undefined') {\n            this._holderHeight = height;\n            if (this._holderHeight === 0) {\n                this.listContainer.nativeElement.scrollTop = 0;\n            }\n            // When initialization, the list-holder doesn't not have its height. So the scrollTop should be delayed for waiting\n            // the list-holder rendered bigger than the list-container.\n            if (this._initialScrollTop !== INVALID_POSITION && this._holderHeight !== 0) {\n                setTimeout(() => {\n                    this.listContainer.nativeElement.scrollTop = this._initialScrollTop;\n                    this._initialScrollTop = INVALID_POSITION;\n                });\n            }\n        }\n    }\n\n    get holderHeight(): number {\n        return this._holderHeight;\n    }\n\n    get holderHeightInPx(): string {\n        if (this.holderHeight) {\n            return this.holderHeight + 'px';\n        }\n        return '100%';\n    }\n\n    /**\n     * scroll state change\n     */\n    get scrollStateChange(): Observable<SCROLL_STATE> {\n        return this._scrollStateChange.asObservable();\n    }\n\n    /**\n     * current scroll position.\n     */\n    @Output()\n    get scrollPosition(): Observable<number> {\n        return this._scrollPosition.asObservable();\n    }\n\n    /**\n     * list container width and height.\n     */\n    get sizeChange(): Observable<number[]> {\n        return this._sizeChange.asObservable();\n    }\n\n    @Input() set rowHeight(rowHeight: string) {\n        if(rowHeight != undefined) {\n            if (rowHeight != \"auto\") {\n                this._rowHeight = Number(rowHeight);\n                this._heightAutoComputed = this._autoHeight =  false;\n\n            } else {\n                this._heightAutoComputed = false;\n                this._autoHeight = true;\n            }            \n        }\n    } \n\n    _rowHeight: number = 100;\n    _autoHeight: boolean = false;\n    _heightAutoComputed: boolean = false;\n\n    @Input()\n    set newScrollPosition(p: number) {\n        // console.log('p', p);\n        this.listContainer.nativeElement.scrollTop = p;\n        // if list-holder has no height at the certain time. scrollTop will not be set.\n        if (!this.holderHeight) {\n            this._initialScrollTop = p;\n        }\n        this._scrollPosition.next(p);\n    }\n\n    /**\n     * UITimelineMeter is optional injection. when this component used inside a UITimelineMeter.\n     * it is responsible to update the scrollY\n     * @param _timelineMeter\n     */\n    constructor() {\n        this.scrollbarStyle = 'normal';\n        this.scrollbarWidth = getScrollBarWidth();\n    }\n\n    ngAfterViewInit(): void {\n        if (this.scrollbarStyle === 'hide-scrollbar') {\n            this.listContainer.nativeElement.style.right = (0 - this.scrollbarWidth) + 'px';\n            this.listContainer.nativeElement.style.paddingRight = this.scrollbarWidth + 'px';\n        }\n\n        if (window) {\n            this._subscription.add(fromEvent(window, 'resize')\n                .subscribe(() => {\n                    this.requestMeasure();\n                }));\n        }\n        this._subscription.add(\n            fromEvent(this.listContainer.nativeElement, 'scroll')\n                .pipe(\n                    filter(() => {\n                        if (this.ignoreScrollEvent) {\n                            this.ignoreScrollEvent = false;\n                            return false;\n                        }\n                        return true;\n                    }),\n                    map(() => {\n                        return this.listContainer.nativeElement.scrollTop;\n                    })\n                )\n                .subscribe((scrollY: number) => {\n                    this._scrollPosition.next(scrollY);\n                }));\n\n        this._subscription.add(\n            this.scrollPosition\n                .pipe(\n                    tap(() => {\n                        if (this.currentScrollState === SCROLL_STATE.IDLE) {\n                            this.currentScrollState = SCROLL_STATE.SCROLLING;\n                            this._scrollStateChange.next(this.currentScrollState);\n                        }\n                    }),\n                    debounceTime(SCROLL_STOP_TIME_THRESHOLD)\n                )\n                .subscribe(\n                    () => {\n                        if (this.currentScrollState === SCROLL_STATE.SCROLLING) {\n                            this.currentScrollState = SCROLL_STATE.IDLE;\n                            this._scrollStateChange.next(this.currentScrollState);\n                        }\n                    }\n                ));\n\n        setTimeout(() => {\n            this.requestMeasure();\n        });\n    }\n\n    ngOnDestroy(): void {\n        this._subscription.unsubscribe();\n    }\n\n    measure(): { width: number, height: number } {\n        if (this.listContainer && this.listContainer.nativeElement) {\n            // let measuredWidth = this.listContainer.nativeElement.clientWidth;\n            // let measuredHeight = this.listContainer.nativeElement.clientHeight;\n            let rect = this.listContainer.nativeElement.getBoundingClientRect();\n            this._containerWidth = rect.width - this.scrollbarWidth;\n            this._containerHeight = rect.height;\n            return { width: this._containerWidth, height: this._containerHeight };\n        }\n        return { width: 0, height: 0 };\n    }\n\n    requestMeasure() {\n        let { width, height } = this.measure();\n        this._sizeChange.next([width, height]);\n    }\n}\n\nexport enum SCROLL_STATE {\n    SCROLLING,\n    IDLE\n}\n\nexport function getScrollBarWidth() {\n    let inner = document.createElement('p');\n    inner.style.width = \"100%\";\n    inner.style.height = \"200px\";\n\n    let outer = document.createElement('div');\n    outer.style.position = \"absolute\";\n    outer.style.top = \"0px\";\n    outer.style.left = \"0px\";\n    outer.style.visibility = \"hidden\";\n    outer.style.width = \"200px\";\n    outer.style.height = \"150px\";\n    outer.style.overflow = \"hidden\";\n    outer.appendChild(inner);\n\n    document.body.appendChild(outer);\n    let w1 = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    let w2 = inner.offsetWidth;\n\n    if (w1 == w2) {\n        w2 = outer.clientWidth;\n    }\n\n    document.body.removeChild(outer);\n\n    return (w1 - w2);\n}\n\n","import {\r\n    Directive,\r\n    DoCheck,\r\n    EmbeddedViewRef,\r\n    Input,\r\n    isDevMode,\r\n    IterableChangeRecord,\r\n    IterableChanges,\r\n    IterableDiffers,\r\n    NgIterable,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    TrackByFunction,\r\n    ViewContainerRef,\r\n    ViewRef\r\n} from '@angular/core';\r\n\r\n//import { VirtualRepeatContainer } from 'virtual-repeat-angular-lib';\r\nimport { VirtualRepeatContainer } from 'virtual-repeat-angular-lib/virtual-repeat-container';\r\nimport { VirtualRepeatRow, VirtualRepeatBase } from 'virtual-repeat-angular-lib/virtual-repeat.base';\r\n\r\n@Directive({\r\n    selector: '[virtualRepeat]'\r\n})\r\nexport class VirtualRepeat<T> extends VirtualRepeatBase<T> implements OnChanges, DoCheck, OnInit, OnDestroy {\r\n\r\n    private _collection: any[];\r\n\r\n    @Input() virtualRepeatOf: NgIterable<T>;\r\n\r\n    @Input()\r\n    set virtualRepeatForTrackBy(fn: TrackByFunction<T>) {\r\n        if (isDevMode() && fn != null && typeof fn !== 'function') {\r\n            if (<any>console && <any>console.warn) {\r\n                console.warn(\r\n                    `trackBy must be a function, but received ${JSON.stringify(fn)}. ` +\r\n                    `See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`);\r\n            }\r\n        }\r\n        this._trackByFn = fn;\r\n    }\r\n\r\n    get virtualRepeatForTrackBy(): TrackByFunction<T> {\r\n        return this._trackByFn;\r\n    }\r\n\r\n    @Input()\r\n    set virtualRepeatForTemplate(value: TemplateRef<VirtualRepeatRow>) {\r\n        if (value) {\r\n            this._template = value;\r\n        }\r\n    }\r\n\r\n    constructor(_virtualRepeatContainer: VirtualRepeatContainer,\r\n        _differs: IterableDiffers,\r\n        _template: TemplateRef<VirtualRepeatRow>,\r\n        _viewContainerRef: ViewContainerRef) {\r\n        super(_virtualRepeatContainer, _differs, _template, _viewContainerRef)\r\n    }\r\n\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('virtualRepeatOf' in changes) {\r\n            // React on virtualRepeatOf only once all inputs have been initialized\r\n            const value = changes['virtualRepeatOf'].currentValue;\r\n            if (!this._differ && value) {\r\n                try {\r\n                    this._differ = this._differs.find(value).create(this._trackByFn);\r\n                } catch (e) {\r\n                    throw new Error(`Cannot find a differ supporting object '${value}' of type '${getTypeNameForDebugging(value)}'. NgFor only supports binding to Iterables such as Arrays.`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    ngDoCheck(): void {\r\n        if (this._differ) {\r\n            const changes = this._differ.diff(this.virtualRepeatOf);\r\n            if (changes) {\r\n                this.applyChanges(changes);\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyChanges(changes: IterableChanges<T>) {\r\n        if (!this._collection) {\r\n            this._collection = [];\r\n        }\r\n        let isMeasurementRequired = false;\r\n\r\n        changes.forEachOperation((item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\r\n            if (item.previousIndex == null) {\r\n                // new item\r\n                // console.log('new item', item, adjustedPreviousIndex, currentIndex);\r\n                isMeasurementRequired = true;\r\n                this._collection.splice(currentIndex, 0, item.item);\r\n            } else if (currentIndex == null) {\r\n                // remove item\r\n                // console.log('remove item', item, adjustedPreviousIndex, currentIndex);\r\n                isMeasurementRequired = true;\r\n                this._collection.splice(adjustedPreviousIndex, 1);\r\n            } else {\r\n                // move item\r\n                // console.log('move item', item, adjustedPreviousIndex, currentIndex);\r\n                this._collection.splice(currentIndex, 0, this._collection.splice(adjustedPreviousIndex, 1)[0]);\r\n            }\r\n        });\r\n\r\n        changes.forEachIdentityChange((record: any) => {\r\n            this._collection[record.currentIndex] = record.item;\r\n        });\r\n\r\n        if (isMeasurementRequired) {\r\n            this.requestMeasure();\r\n        }\r\n\r\n        this.requestLayout();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._subscription.unsubscribe();\r\n        this._recycler.clean();\r\n    }\r\n\r\n    protected measure() {\r\n        let collectionNumber = !this._collection || this._collection.length === 0 ? 0 : this._collection.length;\r\n        this._isInMeasure = true;\r\n        this._virtualRepeatContainer.holderHeight = this._virtualRepeatContainer._rowHeight * collectionNumber;\r\n        // calculate a approximate number of which a view can contain\r\n        this.calculateScrapViewsLimit();\r\n        this._isInMeasure = false;\r\n        this._invalidate = true;\r\n        this.requestLayout();\r\n    }\r\n\r\n    protected layout() {\r\n        if (this._isInLayout) {\r\n            return;\r\n        }\r\n        this._isInLayout = true;\r\n        let { width, height } = this._virtualRepeatContainer.measure();\r\n        this._containerWidth = width;\r\n        this._containerHeight = height;\r\n        if (!this._collection || this._collection.length === 0) {\r\n            // detach all views without recycle them.\r\n            for (let i = 0; i < this._viewContainerRef.length; i++) {\r\n                let child = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(i);\r\n                this._viewContainerRef.detach(i);\r\n                i--;\r\n            }\r\n            this._isInLayout = false;\r\n            this._invalidate = false;\r\n            return;\r\n        }\r\n        this.findPositionInRange(this._collection.length);\r\n        for (let i = 0; i < this._viewContainerRef.length; i++) {\r\n            let child = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(i);\r\n            this._viewContainerRef.detach(i);\r\n            this._recycler.recycleView(child.context.index, child);\r\n            i--;\r\n        }\r\n        this.insertViews();\r\n        this._recycler.pruneScrapViews();\r\n        this._isInLayout = false;\r\n        this._invalidate = false;\r\n    }\r\n\r\n    protected insertViews() {\r\n        if (this._viewContainerRef.length > 0) {\r\n            let firstChild = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(0);\r\n            let lastChild = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(this._viewContainerRef.length - 1);\r\n            for (let i = firstChild.context.index - 1; i >= this._firstItemPosition; i--) {\r\n                let view = this.getView(i);\r\n                this.dispatchLayout(i, view, true);\r\n            }\r\n            for (let i = lastChild.context.index + 1; i <= this._lastItemPosition; i++) {\r\n                let view = this.getView(i);\r\n                this.dispatchLayout(i, view, false);\r\n            }\r\n        } else {\r\n            for (let i = this._firstItemPosition; i <= this._lastItemPosition; i++) {\r\n                let view = this.getView(i);\r\n                this.dispatchLayout(i, view, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected getView(position: number): ViewRef {\r\n        let view = this._recycler.getView(position);\r\n        let item = this._collection[position];\r\n        let count = this._collection.length;\r\n        if (!view) {\r\n            view = this._template.createEmbeddedView(new VirtualRepeatRow(item, position, count));\r\n        } else {\r\n            (view as EmbeddedViewRef<VirtualRepeatRow>).context.$implicit = item;\r\n            (view as EmbeddedViewRef<VirtualRepeatRow>).context.index = position;\r\n            (view as EmbeddedViewRef<VirtualRepeatRow>).context.count = count;\r\n        }\r\n        return view;\r\n    }\r\n}\r\n\r\n\r\nexport function getTypeNameForDebugging(type: any): string {\r\n    return type['name'] || typeof type;\r\n}\r\n","import {\r\n    Directive,\r\n    EmbeddedViewRef,\r\n    Input,\r\n    isDevMode,\r\n    IterableDiffers,\r\n    NgIterable,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    TrackByFunction,\r\n    ViewContainerRef,\r\n    ViewRef\r\n} from '@angular/core';\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { map, first } from 'rxjs/operators';\r\n\r\nimport { VirtualRepeatContainer } from './virtual-repeat-container';\r\n//import { VirtualRepeatContainer } from 'virtual-repeat-angular-lib';\r\nimport { VirtualRepeatRow, VirtualRepeatBase } from 'virtual-repeat-angular-lib/virtual-repeat.base';\r\n\r\nexport interface IAsynchCollection {\r\n    getLength(): Observable<number>;\r\n    getItem(i: number): Observable<any>;\r\n}\r\n\r\n@Directive({\r\n    selector: '[virtualRepeatAsynch]'\r\n})\r\nexport class VirtualRepeatAsynch<T> extends VirtualRepeatBase<T> implements OnChanges, OnInit, OnDestroy {\r\n\r\n    protected _collection: IAsynchCollection;\r\n\r\n    @Input() virtualRepeatAsynchOf: NgIterable<T>;\r\n\r\n    @Input()\r\n    set virtualRepeatAsynchForTrackBy(fn: TrackByFunction<T>) {\r\n        if (isDevMode() && fn != null && typeof fn !== 'function') {\r\n            if (<any>console && <any>console.warn) {\r\n                console.warn(\r\n                    `trackBy must be a function, but received ${JSON.stringify(fn)}. ` +\r\n                    `See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`);\r\n            }\r\n        }\r\n        this._trackByFn = fn;\r\n    }\r\n\r\n    get virtualRepeatAsynchForTrackBy(): TrackByFunction<T> {\r\n        return this._trackByFn;\r\n    }\r\n\r\n    @Input()\r\n    set virtualRepeatAsynchForTemplate(value: TemplateRef<VirtualRepeatRow>) {\r\n        if (value) {\r\n            this._template = value;\r\n        }\r\n    }\r\n\r\n    constructor(_virtualRepeatContainer: VirtualRepeatContainer,\r\n        _differs: IterableDiffers,\r\n        _template: TemplateRef<VirtualRepeatRow>,\r\n        _viewContainerRef: ViewContainerRef) {\r\n        super(_virtualRepeatContainer, _differs, _template, _viewContainerRef)\r\n    }\r\n\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('virtualRepeatAsynchOf' in changes) {\r\n            // React on virtualRepeatAsynchOf only once all inputs have been initialized\r\n            const value = changes['virtualRepeatAsynchOf'].currentValue;\r\n            this._collection = value;\r\n\r\n            this._virtualRepeatContainer._heightAutoComputed = false;\r\n\r\n            this.requestMeasure();\r\n        }\r\n    }\r\n\r\n    protected measure() {\r\n        if (!this._collection) return;\r\n\r\n        this._isInMeasure = true;\r\n        this._collection.getLength().pipe(first()).subscribe((length) => {\r\n            this._virtualRepeatContainer.holderHeight = this._virtualRepeatContainer._rowHeight * length;\r\n            // calculate a approximate number of which a view can contain\r\n            this.calculateScrapViewsLimit();\r\n            this._isInMeasure = false;\r\n            this._invalidate = true;\r\n            this.requestLayout();\r\n        });\r\n    }\r\n\r\n    protected layout() {\r\n        if (this._isInLayout) {\r\n            return;\r\n        }\r\n        // console.log('on layout');\r\n        this._isInLayout = true;\r\n        let { width, height } = this._virtualRepeatContainer.measure();\r\n        this._containerWidth = width;\r\n        this._containerHeight = height;\r\n        if (!this._collection) {\r\n            // detach all views without recycle them.\r\n            return this.detachAllViews();\r\n        }\r\n        this._collection.getLength().pipe(first()).subscribe((length) => {\r\n            if (length == 0) {\r\n                return this.detachAllViews();\r\n            }\r\n            this.findPositionInRange(length);\r\n            for (let i = 0; i < this._viewContainerRef.length; i++) {\r\n                let child = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(i);\r\n                // if (child.context.index < this._firstItemPosition || child.context.index > this._lastItemPosition || this._invalidate) {\r\n                this._viewContainerRef.detach(i);\r\n                this._recycler.recycleView(child.context.index, child);\r\n                i--;\r\n                // }\r\n            }\r\n            this.insertViews(length);\r\n            this._recycler.pruneScrapViews();\r\n            this._isInLayout = false;\r\n            this._invalidate = false;\r\n        });\r\n    }\r\n\r\n    protected insertViews(collection_length: number) {\r\n        if (this._viewContainerRef.length > 0) {\r\n            let firstChild = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(0);\r\n            let lastChild = <EmbeddedViewRef<VirtualRepeatRow>>this._viewContainerRef.get(this._viewContainerRef.length - 1);\r\n            for (let i = firstChild.context.index - 1; i >= this._firstItemPosition; i--) {\r\n                this.getView(collection_length, i).subscribe((view) => {\r\n                    this.dispatchLayout(i, view, true);\r\n                });\r\n            }\r\n            for (let i = lastChild.context.index + 1; i <= this._lastItemPosition; i++) {\r\n                let view = this.getView(collection_length, i).subscribe((view) => {\r\n                    this.dispatchLayout(i, view, false);\r\n                });\r\n            }\r\n        } else {\r\n            for (let i = this._firstItemPosition; i <= this._lastItemPosition; i++) {\r\n                this.getView(collection_length, i).subscribe((view) => {\r\n                    this.dispatchLayout(i, view, false);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    protected getView(collection_length: number, position: number): Observable<ViewRef> {\r\n        let view = this._recycler.getView(position);\r\n        return this._collection.getItem(position)\r\n            .pipe(\r\n                first(),\r\n                map((item) => {\r\n                    if (!view) {\r\n                        view = this._template.createEmbeddedView(new VirtualRepeatRow(item, position, collection_length));\r\n                    } else {\r\n                        (view as EmbeddedViewRef<VirtualRepeatRow>).context.$implicit = item;\r\n                        (view as EmbeddedViewRef<VirtualRepeatRow>).context.index = position;\r\n                        (view as EmbeddedViewRef<VirtualRepeatRow>).context.count = collection_length;\r\n                    }\r\n                    return view;\r\n                })\r\n            );\r\n    }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { VirtualRepeatContainer } from './virtual-repeat-container';\nimport { VirtualRepeat } from './virtual-repeat';\nimport { VirtualRepeatAsynch } from 'virtual-repeat-angular-lib/virtual-repeat-asynch';\n\n@NgModule({\n  imports: [\n    BrowserModule\n  ],\n  declarations: [\n    VirtualRepeatContainer,\n    VirtualRepeat,\n    VirtualRepeatAsynch\n  ],\n  exports: [\n    VirtualRepeatContainer,\n    VirtualRepeat,\n    VirtualRepeatAsynch\n  ]\n})\nexport class VirtualRepeatAngularLibModule { }\n"],"names":["VirtualRepeatContainer"],"mappings":";;;;;;;;;;;;AACA,uBAIa,0BAA0B,GAAG,GAAG,CAAC;AAE9C,uBAAM,gBAAgB,GAAG,CAAC,CAAC,CAAC;AAY5B;;;;;IAyGI;6BAxGgC,CAAC;+BACC,CAAC;gCACA,CAAC;6BAEE,IAAI,YAAY,EAAE;kCAEI,IAAI,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC;+BAC/C,IAAI,eAAe,CAAC,CAAC,CAAC;2BACxB,IAAI,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iCAEhD,KAAK;iCAEL,gBAAgB;kCAET,YAAY,CAAC,IAAI;0BAsE/B,GAAG;2BACD,KAAK;mCACG,KAAK;QAmBhC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,iBAAiB,EAAE,CAAC;KAC7C;;;;;IAtFD,IAAI,YAAY,CAAC,MAAc;QAC3B,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;YAC5B,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,EAAE;gBAC1B,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC;aAClD;;;YAGD,IAAI,IAAI,CAAC,iBAAiB,KAAK,gBAAgB,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,EAAE;gBACzE,UAAU,CAAC;oBACP,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;oBACpE,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;iBAC7C,CAAC,CAAC;aACN;SACJ;KACJ;;;;IAED,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B;;;;IAED,IAAI,gBAAgB;QAChB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SACnC;QACD,OAAO,MAAM,CAAC;KACjB;;;;;IAKD,IAAI,iBAAiB;QACjB,OAAO,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;KACjD;;;;;IAKD,IACI,cAAc;QACd,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;KAC9C;;;;;IAKD,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;KAC1C;;;;;IAED,IAAa,SAAS,CAAC,SAAiB;QACpC,IAAG,SAAS,IAAI,SAAS,EAAE;YACvB,IAAI,SAAS,IAAI,MAAM,EAAE;gBACrB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gBACpC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,WAAW,GAAI,KAAK,CAAC;aAExD;iBAAM;gBACH,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;gBACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;SACJ;KACJ;;;;;IAMD,IACI,iBAAiB,CAAC,CAAS;;QAE3B,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC;;QAE/C,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;SAC9B;QACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAChC;;;;IAYD,eAAe;QACX,IAAI,IAAI,CAAC,cAAc,KAAK,gBAAgB,EAAE;YAC1C,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC;YAChF,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SACpF;QAED,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC;iBAC7C,SAAS,CAAC;gBACP,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB,CAAC,CAAC,CAAC;SACX;QACD,IAAI,CAAC,aAAa,CAAC,GAAG,CAClB,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,QAAQ,CAAC;aAChD,IAAI,CACD,MAAM,CAAC;YACH,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,OAAO,KAAK,CAAC;aAChB;YACD,OAAO,IAAI,CAAC;SACf,CAAC,EACF,GAAG,CAAC;YACA,OAAO,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC;SACrD,CAAC,CACL;aACA,SAAS,CAAC,CAAC,OAAe;YACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC,CAAC,CAAC,CAAC;QAEZ,IAAI,CAAC,aAAa,CAAC,GAAG,CAClB,IAAI,CAAC,cAAc;aACd,IAAI,CACD,GAAG,CAAC;YACA,IAAI,IAAI,CAAC,kBAAkB,KAAK,YAAY,CAAC,IAAI,EAAE;gBAC/C,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC,SAAS,CAAC;gBACjD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aACzD;SACJ,CAAC,EACF,YAAY,CAAC,0BAA0B,CAAC,CAC3C;aACA,SAAS,CACN;YACI,IAAI,IAAI,CAAC,kBAAkB,KAAK,YAAY,CAAC,SAAS,EAAE;gBACpD,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC,IAAI,CAAC;gBAC5C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aACzD;SACJ,CACJ,CAAC,CAAC;QAEX,UAAU,CAAC;YACP,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB,CAAC,CAAC;KACN;;;;IAED,WAAW;QACP,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;KACpC;;;;IAED,OAAO;QACH,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;;;YAGxD,qBAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YACpE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC;YACxD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,EAAE,MAAM,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzE;QACD,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;KAClC;;;;IAED,cAAc;QACV,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;KAC1C;;;YAlMJ,SAAS,SAAC;gBACP,QAAQ,EAAE,6BAA6B;gBACvC,QAAQ,EAAE;;;;;CAKb;gBACG,MAAM,EAAE,CAAC,wXAAwX,CAAC;aACrY;;;;;4BAkBI,SAAS,SAAC,eAAe;6BA2CzB,MAAM;wBAYN,KAAK;gCAiBL,KAAK;;;;;;;;;;;;AAuGV;IACI,qBAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACxC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;IAC3B,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;IAE7B,qBAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IAClC,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;IACxB,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;IACzB,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;IAClC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;IAC5B,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;IAC7B,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAChC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAEzB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACjC,qBAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC;IAC3B,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAChC,qBAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC;IAE3B,IAAI,EAAE,IAAI,EAAE,EAAE;QACV,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC;KAC1B;IAED,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAEjC,QAAQ,EAAE,GAAG,EAAE,EAAE;CACpB;;;;;;AC9OD;;;AA2BA,mBAA8B,SAAQ,iBAAoB;;;;;;;IA6BtD,YAAY,uBAA+C,EACvD,QAAyB,EACzB,SAAwC,EACxC,iBAAmC;QACnC,KAAK,CAAC,uBAAuB,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAA;KACzE;;;;;IA5BD,IACI,uBAAuB,CAAC,EAAsB;QAC9C,IAAI,SAAS,EAAE,IAAI,EAAE,IAAI,IAAI,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE;YACvD,sBAAS,OAAO,uBAAS,OAAO,CAAC,IAAI,GAAE;gBACnC,OAAO,CAAC,IAAI,CACR,4CAA4C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI;oBAClE,wHAAwH,CAAC,CAAC;aACjI;SACJ;QACD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;KACxB;;;;IAED,IAAI,uBAAuB;QACvB,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;;;;;IAED,IACI,wBAAwB,CAAC,KAAoC;QAC7D,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAC1B;KACJ;;;;;IAUD,WAAW,CAAC,OAAsB;QAC9B,IAAI,iBAAiB,IAAI,OAAO,EAAE;;YAE9B,uBAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC;YACtD,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,EAAE;gBACxB,IAAI;oBACA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACpE;gBAAC,wBAAO,CAAC,EAAE;oBACR,MAAM,IAAI,KAAK,CAAC,2CAA2C,KAAK,cAAc,uBAAuB,CAAC,KAAK,CAAC,6DAA6D,CAAC,CAAC;iBAC9K;aACJ;SACJ;KACJ;;;;IAED,SAAS;QACL,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,uBAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACxD,IAAI,OAAO,EAAE;gBACT,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;aAC9B;SACJ;KACJ;;;;;IAEO,YAAY,CAAC,OAA2B;QAC5C,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;SACzB;QACD,qBAAI,qBAAqB,GAAG,KAAK,CAAC;QAElC,OAAO,CAAC,gBAAgB,CAAC,CAAC,IAA+B,EAAE,qBAA6B,EAAE,YAAoB;YAC1G,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;;;gBAG5B,qBAAqB,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aACvD;iBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;;;gBAG7B,qBAAqB,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC;aACrD;iBAAM;;;gBAGH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAClG;SACJ,CAAC,CAAC;QAEH,OAAO,CAAC,qBAAqB,CAAC,CAAC,MAAW;YACtC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;SACvD,CAAC,CAAC;QAEH,IAAI,qBAAqB,EAAE;YACvB,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;;;;;IAGzB,WAAW;QACP,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;KAC1B;;;;IAES,OAAO;QACb,qBAAI,gBAAgB,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QACxG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,uBAAuB,CAAC,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,gBAAgB,CAAC;;QAEvG,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;;;;IAES,MAAM;QACZ,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC;QAC/D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;;YAEpD,KAAK,qBAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpD,qBAAI,KAAK,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC;gBAC7E,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACjC,CAAC,EAAE,CAAC;aACP;YACD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,OAAO;SACV;QACD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClD,KAAK,qBAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpD,qBAAI,KAAK,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC;YAC7E,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACvD,CAAC,EAAE,CAAC;SACP;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;KAC5B;;;;IAES,WAAW;QACjB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,qBAAI,UAAU,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC;YAClF,qBAAI,SAAS,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA,CAAC;YACjH,KAAK,qBAAI,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC,EAAE,EAAE;gBAC1E,qBAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aACtC;YACD,KAAK,qBAAI,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,EAAE,EAAE;gBACxE,qBAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;aACvC;SACJ;aAAM;YACH,KAAK,qBAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,EAAE,EAAE;gBACpE,qBAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;aACvC;SACJ;KACJ;;;;;IAES,OAAO,CAAC,QAAgB;QAC9B,qBAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC5C,qBAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACtC,qBAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QACpC,IAAI,CAAC,IAAI,EAAE;YACP,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;SACzF;aAAM;YACH,mBAAC,IAAyC,GAAE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;YACrE,mBAAC,IAAyC,GAAE,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;YACrE,mBAAC,IAAyC,GAAE,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;SACrE;QACD,OAAO,IAAI,CAAC;KACf;;;YAlLJ,SAAS,SAAC;gBACP,QAAQ,EAAE,iBAAiB;aAC9B;;;;YALQ,sBAAsB;YAb3B,eAAe;YAMf,WAAW;YAEX,gBAAgB;;;8BAef,KAAK;sCAEL,KAAK;uCAgBL,KAAK;;;;;;AA6JV,iCAAwC,IAAS;IAC7C,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,OAAO,IAAI,CAAC;CACtC;;;;;;AChND;;;AAgCA,2BAAoC,SAAQ,iBAAoB;;;;;;;IA6B5D,YAAY,uBAA+C,EACvD,QAAyB,EACzB,SAAwC,EACxC,iBAAmC;QACnC,KAAK,CAAC,uBAAuB,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAA;KACzE;;;;;IA5BD,IACI,6BAA6B,CAAC,EAAsB;QACpD,IAAI,SAAS,EAAE,IAAI,EAAE,IAAI,IAAI,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE;YACvD,sBAAS,OAAO,uBAAS,OAAO,CAAC,IAAI,GAAE;gBACnC,OAAO,CAAC,IAAI,CACR,4CAA4C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI;oBAClE,wHAAwH,CAAC,CAAC;aACjI;SACJ;QACD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;KACxB;;;;IAED,IAAI,6BAA6B;QAC7B,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;;;;;IAED,IACI,8BAA8B,CAAC,KAAoC;QACnE,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAC1B;KACJ;;;;;IAUD,WAAW,CAAC,OAAsB;QAC9B,IAAI,uBAAuB,IAAI,OAAO,EAAE;;YAEpC,uBAAM,KAAK,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,YAAY,CAAC;YAC5D,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YAEzB,IAAI,CAAC,uBAAuB,CAAC,mBAAmB,GAAG,KAAK,CAAC;YAEzD,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;KACJ;;;;IAES,OAAO;QACb,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAE9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM;YACxD,IAAI,CAAC,uBAAuB,CAAC,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,UAAU,GAAG,MAAM,CAAC;;YAE7F,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC,CAAC;KACN;;;;IAES,MAAM;QACZ,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,OAAO;SACV;;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC;QAC/D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;;YAEnB,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM;YACxD,IAAI,MAAM,IAAI,CAAC,EAAE;gBACb,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;aAChC;YACD,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;YACjC,KAAK,qBAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpD,qBAAI,KAAK,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC;;gBAE7E,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACvD,CAAC,EAAE,CAAC;;aAEP;YACD,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC5B,CAAC,CAAC;KACN;;;;;IAES,WAAW,CAAC,iBAAyB;QAC3C,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,qBAAI,UAAU,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC;YAClF,qBAAI,SAAS,qBAAsC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA,CAAC;YACjH,KAAK,qBAAI,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC,EAAE,EAAE;gBAC1E,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI;oBAC9C,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;iBACtC,CAAC,CAAC;aACN;YACD,KAAK,qBAAI,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,EAAE,EAAE;gBACxE,qBAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI;oBACzD,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;iBACvC,CAAC,CAAC;aACN;SACJ;aAAM;YACH,KAAK,qBAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI;oBAC9C,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;iBACvC,CAAC,CAAC;aACN;SACJ;KACJ;;;;;;IAES,OAAO,CAAC,iBAAyB,EAAE,QAAgB;QACzD,qBAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC5C,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC;aACpC,IAAI,CACD,KAAK,EAAE,EACP,GAAG,CAAC,CAAC,IAAI;YACL,IAAI,CAAC,IAAI,EAAE;gBACP,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,iBAAiB,CAAC,CAAC,CAAC;aACrG;iBAAM;gBACH,mBAAC,IAAyC,GAAE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;gBACrE,mBAAC,IAAyC,GAAE,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACrE,mBAAC,IAAyC,GAAE,OAAO,CAAC,KAAK,GAAG,iBAAiB,CAAC;aACjF;YACD,OAAO,IAAI,CAAC;SACf,CAAC,CACL,CAAC;KACT;;;YA1IJ,SAAS,SAAC;gBACP,QAAQ,EAAE,uBAAuB;aACpC;;;;YAXQA,wBAAsB;YAf3B,eAAe;YAMf,WAAW;YAEX,gBAAgB;;;oCAuBf,KAAK;4CAEL,KAAK;6CAgBL,KAAK;;;;;;;ACtDV;;;YAMC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,aAAa;iBACd;gBACD,YAAY,EAAE;oBACZA,wBAAsB;oBACtB,aAAa;oBACb,mBAAmB;iBACpB;gBACD,OAAO,EAAE;oBACPA,wBAAsB;oBACtB,aAAa;oBACb,mBAAmB;iBACpB;aACF;;;;;;;;;;;;;;;"}
